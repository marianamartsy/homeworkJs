// 12. NODE.JS INTRODUCTION
// üìÄüìÄüíøüíø

// 12-1.
// –°—Ç–≤–æ—Ä–∏—Ç–∏ Node.js http-—Å–µ—Ä–≤–µ—Ä, —è–∫–∏–π —Å–ª—É—Ö–∞—Ç–∏–º–µ –∑–∞–ø–∏—Ç–∏ –Ω–∞ –ø–æ—Ä—Ç 5000 –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ñ–π  –º–∞—à–∏–Ω—ñ. –°–µ—Ä–≤–µ—Ä –ø–æ–≤–∏–Ω–µ–Ω –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É, —â–æ –º—ñ—Å—Ç–∏—Ç—å —ñ–º‚Äô—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏, —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏, —á–∞—Å —Ä–æ–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∏ –≤ —Ö–≤–∏–ª–∏–Ω–∞—Ö (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –º–æ–¥—É–ª—å OS), –ø–æ—Ç–æ—á–Ω—É —Ä–æ–±–æ—á—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é —ñ –Ω–∞–∑–≤—É —Ñ–∞–π–ª—É —Å–µ—Ä–≤–µ—Ä–∞ (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –º–æ–¥—É–ª—å path).
// –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è

const http = require('http')
const os = require('os')
const path = require('path')
const port = 3000

const server = http.createServer((req, res) => {
	const user = os.userInfo().username
	const osType = os.type()
	const uptime = os.uptime()
	const cwd = process.cwd()
	const serverFilename = path.basename(__filename)

	res.writeHead(200, { 'Content-Type': 'text/html' })
	res.write(`<h1>System Info</h1>`)
	res.write(`<p>User: ${user}</p>`)
	res.write(`<p>OS Type: ${osType}</p>`)
	res.write(`<p>Uptime: ${uptime} minutes</p>`)
	res.write(`<p>Current Working Directory: ${cwd}</p>`)
	res.write(`<p>Server Filename: ${serverFilename}</p>`)
	res.end()
})
server.listen(port, err => {
	if (err) {
		return console.log('error')
	}
})

// 12-2.
// –ù–µ–æ–±—Ö—ñ–¥–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –º–æ–¥—É–ª—å personalmodule.js, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –ø—Ä–∏–π–º–∞—î —ñ–º‚Äô—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —é–∑–µ—Ä–∞ —ñ –ø—Ä–∞—Ü—é—î –∑ –ø–æ—Ç–æ—á–Ω–∏–º —á–∞—Å–æ–º —Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–æ—Ä–∏ –¥–æ–±–∏ –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ–∑ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è–º —é–∑–µ—Ä–∞. –©–æ–± –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —á–∏ —Ñ—É–Ω–∫—Ü—ñ—ó –º–æ–¥—É–ª—è –Ω–∞ –∑–æ–≤–Ω—ñ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç module.exports.
//         –°—Ç–≤–æ—Ä—ñ—Ç—å Node.js —Å–µ—Ä–≤–µ—Ä, —è–∫–∏–π –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–æ–≥–æ –º–æ–¥—É–ª—è –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏–º–µ –Ω–∞—Å—Ç—É–ø–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É:
// –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è

const http = require('http')
const port = 3000
const os = require('os')
const { helloUser } = require('./personalmodule')

const server = http.createServer((req, res) => {
	const username = os.userInfo().username
	const greeting = helloUser(username)
	const date = helloUser()

	res.writeHead(200, { 'Content-Type': 'text/html' })
	res.write(`<p>Date of request: ${date}</p>`)
	res.write(`<p>${greeting}<p>`)
	res.end()
})

server.listen(port, () => {
	console.log(`Server running on port ${port}`)
})

// 12-3 ‚≠ê‚≠ê‚≠ê
// –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—Å—Ç—É –ø—Ä–æ–≥—Ä–∞–º—É –Ω–∞ Node.js, —è–∫–∞ –∑–∞–ø–∏—Å—É—î —É —Ñ–∞–π–ª —Ç–µ–∫—Å—Ç–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —è–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –∑ –∞–¥—Ä–µ—Å–Ω–æ–≥–æ —Ä—è–¥–∫–∞, –∞ –ø–æ—Ç—ñ–º –∑—á–∏—Ç—É—î —Ü–µ–π —Ñ–∞–π–ª —Ç–∞ –≤–∏–≤–æ–¥–∏—Ç—å –≤–º—ñ—Å—Ç –Ω–∞ –µ–∫—Ä–∞–Ω.

// –ö—Ä–æ–∫–∏:
// 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–º—ñ–Ω–Ω—É, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É, —É —è–∫–∏–π –±—É–¥–µ –∑–∞–ø–∏—Å–∞–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è.
// 2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –º–æ–¥—É–ª—å fs (file system), —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –≤ —Ñ–∞–π–ª.
// 3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –º–æ–¥—É–ª—å http, —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä, —è–∫–∏–π –±—É–¥–µ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ –∑ –∞–¥—Ä–µ—Å–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —Ç–∞ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –æ—Ç—Ä–∏–º–∞–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —Ñ—É–Ω–∫—Ü—ñ—ó writeToTextFile().
// 4. –î–ª—è –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —Ñ–∞–π–ª—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–æ–¥—É–ª—å fs —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—é readFile()
// 5. –î–ª—è —Ç–æ–≥–æ, —â–æ–± –≤–∏–≤–µ—Å—Ç–∏ –∑—á–∏—Ç–∞–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –Ω–∞ –µ–∫—Ä–∞–Ω, –¥–æ–¥–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –ª–æ–≥—ñ–∫—É –¥–æ —Å–µ—Ä–≤–µ—Ä—É.
